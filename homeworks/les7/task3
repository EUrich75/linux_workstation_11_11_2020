3. Настроить iptables: разрешить подключения только на 22-й и 80-й порты.

eurich75@eurich75-VirtualBox:~$ nano iptables.rules
eurich75@eurich75-VirtualBox:~$ eurich75@eurich75-VirtualBox:~$ chmod +x iptables.rules
eurich75@eurich75-VirtualBox:~$ ls
 2010   2016        errors.log   iptables.rules    project        text.txt         Изображения
 2011   2017        eu_rca.pub   lesson3           reboot.sh     'vim file1.txt'   Музыка
 2012   backup.sh   file2_new    lesson3_copy      task1.sh       year.sh          Общедоступные
 2013   cat.log     file3_new    ls.txt            task2          Видео           'Рабочий стол'
 2014   doc1.txt    full.log    'nano file1.txt'   testfile.txt   Документы        Шаблоны
 2015   doc2.txt    input.txt    output.txt        text2.txt      Загрузки
eurich75@eurich75-VirtualBox:~$ sudo ./iptables.rules
eurich75@eurich75-VirtualBox:~$ sudo iptables-save
# Generated by iptables-save v1.8.4 on Wed Dec  9 09:11:52 2020
*filter
:INPUT DROP [13:1228]
:FORWARD DROP [0:0]
:OUTPUT DROP [0:0]
-A INPUT -i lo -j ACCEPT
-A INPUT -p icmp -j ACCEPT
-A INPUT -p tcp -m state --state RELATED,ESTABLISHED -j ACCEPT
-A INPUT -p udp -m state --state RELATED,ESTABLISHED -j ACCEPT
-A INPUT -p tcp -m tcp --dport 22 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 80 -j ACCEPT
-A OUTPUT -o lo -j ACCEPT
-A OUTPUT -p icmp -j ACCEPT
-A OUTPUT -p tcp -m tcp --sport 32768:61000 -j ACCEPT
-A OUTPUT -p udp -m udp --sport 32768:61000 -j ACCEPT
-A OUTPUT -p tcp -m tcp --sport 22 -j ACCEPT
-A OUTPUT -p tcp -m tcp --sport 80 -j ACCEPT
COMMIT
# Completed on Wed Dec  9 09:11:52 2020
